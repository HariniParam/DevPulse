<div class="assesment-container">
    <div class="assesment-left-panel">
        <div class="history-panel">
            <div class="history-header">
                <h2 class="history-title">History</h2>
                <div class="view-all">
                    <span class="eye-icon">
                        <img src="../../../assets/icons/eye.svg">
                      </span>
                    <p>View All</p>
                </div>
            </div>
            <div class="history-card-panel">
                <div class="pagination-buttons">
                    <div 
                        (click)="previous()" 
                        *ngIf="startIndex !== 0"
                        class="left-button"
                    >
                        <img src="../../../assets/icons/right-arrow.png" alt="">
                    </div>
                </div>
                <div
                  class="history-test-card"
                  *ngFor="let test of visibleTests"
                >
                  <div class="test-card-header">
                    <img
                    [src]="test.bookmarked 
                        ? '../../../assets/icons/bookmark.svg' 
                        : '../../../assets/icons/not_bookmarked.svg'"
                      (click)="toggleBookmark(test)"
                    />
                    <div class="test-card-date">
                      <img src="../../../assets/icons/calendar.svg" />
                      <p>{{ test.date | date: 'dd/MM/yyyy' }}</p>
                    </div>
                  </div>
          
                  <div class="test-card-body">
                    <div class="test-info">
                      <h2>{{ test.title }}</h2>
                      <p>No of Questions : {{ test.numQuestions }}</p>
                      <p>Duration : {{ test.duration }} minutes</p>
                    </div>
                    <div
                      class="test-progress"
                      [style.--progress]="test.score + '%'"
                    ></div>
                  </div>
          
                  <div class="test-card-footer">
                    <div class="test-score">
                      <img src="../../../assets/icons/crown.svg" />
                      <p>{{ test.score }}/100</p>
                    </div>
                    <div class="test-retake" (click)="retake(test)">
                      <img src="../../../assets/icons/download.svg" />
                      <div><p>Retake Test</p></div>
                    </div>
                  </div>
                </div>
                <div class="pagination-buttons">
                    <div
                        (click)="next()"
                        *ngIf="startIndex + visibleCount < tests.length"
                        class="right-button"
                    >
                        <img src="../../../assets/icons/right-arrow.png" alt="">
                    </div>
                </div>
            </div>
        </div>
        <div class="upload-pdf-main-panel">
            <div class="upload-main-panel-no-pdf" *ngIf="!selectedPDF">
                <div class="upload-pdf-inner-panel">
                    <div class="upload-pdf-inner-dotted-panel" (click)="onPanelClick()">
                    <img class="upload-icon" src="../../../assets/icons/upload.svg" alt="">
                    <h2>Click to Upload PDF</h2>
                    <p>Browse your device</p>
                    <input type="file" accept=".pdf" #fileInput hidden (change)="onFileSelected($event)">
                    </div>
                </div>
            </div>
            <div class="uploaded-pdf-preview" *ngIf="selectedPDF">
                <div class="pdf-file">
                    <h2>{{ selectedPDF.name }}</h2>
                    <button class="close-button" (click)="clearPDF()">Ã—</button>
                </div>
                <iframe
                  [src]="pdfURL"
                  width="100%"
                  height="70%"
                  scrolling="no"
                  *ngIf="pdfURL"
                ></iframe>
                <button class="confirm-button" (click)="createAssessment()">Create Assesment</button>
              </div>
        </div>
    </div>
    <div class="assesment-right-panel">
        <div class="news-info">
            <h3 class="news-title">Upcoming Contests</h3>
            <div class="news-list">
            <div class="news-card" *ngFor="let contest of contests">
                <div class="news-card-header">
                <img [src]="'../../../assets/images/' + contest.site + '.png'" alt="{{contest.site}}" />
                <span class="contest-site">{{ contest.site | titlecase }}</span>
                </div>
                <div class="news-card-body">
                <a [href]="contest.url" target="_blank" class="contest-title">
                    {{ contest.title }}
                </a>
                <p class="contest-time">
                    Starts: {{ contest.startTime | date:'medium' }}
                </p>
                </div>
            </div>
            </div>
        </div>
        <div class="bookmark">

        </div>
    </div>
</div>