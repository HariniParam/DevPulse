<div class="resume-container">
    <div class="upload-resume-main-panel">
      
      <div class="upload-resume-main-panel-no-pdf" *ngIf="!selectedPDF">
        <div class="upload-resume-inner-panel">
          <div class="upload-resume-inner-dotted-panel" (click)="onPanelClick()">
            <img class="upload-icon" src="../../../assets/icons/upload.svg" alt="">
            <h2>Click to Upload PDF</h2>
            <p>Browse your device</p>
            <input type="file" accept=".pdf" #fileInput hidden (change)="onFileSelected($event)">
          </div>
        </div>
      </div>
  
      <div class="uploaded-pdf-preview" *ngIf="selectedPDF">
        <button class="close-button" (click)="clearPDF()">Ã—</button>
        <div class="pdf-file">
            <h2>{{ selectedPDF.name }}</h2>
        </div>
        <iframe
          [src]="pdfURL"
          width="100%"
          height="80%"
          scrolling="no"
          *ngIf="pdfURL"
        ></iframe>
        <button class="confirm-button" (click)="analyzeResume()">Analyze Resume</button>
      </div>
  
    </div>
  
    <div class="right-panel-scores">
        <h2 class="right-panel-title">Resume Analysis</h2>
        <hr class="line">
        
        <!-- Overall Score Circle -->
        <div class="circular-score-container">
            <svg viewBox="0 0 36 36" class="circular-chart">
            <path class="circle-bg"
                    d="M18 2.0845
                    a 15.9155 15.9155 0 0 1 0 31.831
                    a 15.9155 15.9155 0 0 1 0 -31.831" />
            <path class="circle"
                    [attr.stroke-dasharray]="analysisProgress.overallScore + ', 100'"
                    d="M18 2.0845
                    a 15.9155 15.9155 0 0 1 0 31.831
                    a 15.9155 15.9155 0 0 1 0 -31.831" />
            </svg>
            <p class="percentage">{{ analysisProgress.overallScore }}%</p>
        </div>
        
        <!-- Horizontal Progress Bars -->
        <div class="progress-bars" *ngIf="analysisProgress.analyses.length > 0">
            <div *ngFor="let analysis of analysisProgress.analyses" class="progress-bar-item">
                <div class="bar-header">
                    <p class="bar-label">{{ analysis.displayName }}</p>
                    <span class="bar-score">{{ analysis.score }}%</span>
                </div>
                <div class="bar-container">
                    <div class="bar-fill" [style.width.%]="analysis.score"></div>
                </div>
            </div>
        </div>
        
        <!-- Summary -->
        <div class="summary-section" *ngIf="analysisProgress.summary">
            <h3>Summary</h3>
            <p>{{ analysisProgress.summary }}</p>
        </div>
        
        <!-- Recommendations -->
        <div class="recommendations-section" *ngIf="analysisProgress.recommendations">
            <h3>Recommendations</h3>
            <p>{{ analysisProgress.recommendations }}</p>
        </div>
        
        <!-- Empty State Message -->
        <div class="empty-state" *ngIf="!selectedPDF && analysisProgress.overallScore === 0">
            <p>Upload a PDF resume to see your analysis results here.</p>
        </div>
  
    </div>
</div>